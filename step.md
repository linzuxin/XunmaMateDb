# 实现步骤

1. 纯内存版本实现
2. io版本实现
3. socket版本实现
4. 多线程版本实现
5. 调优版本实现

---------------------------

## 纯内存版本实现

### 模型定义

简单模型和管理模型的定义

1. 简单模型的定义

    需要3个简单模型的定义

    + 配置文件模型
      > 模型名称  Profile
      >| 字段名  | 字段备注    | 类型     |
      >| ----   | :----:     | ---     |
      >| bufSize| 缓存buf大小 | uint16_t |

    + 当前系统信息模型
      > 模型名称  SysInfo
      >| 字段名  | 字段备注        | 类型      |
      >| ----   | ----          | ---      |
      >| version| 当前最大的版本号 | uint64_t |
      > 函数列表
      >| 函数名 | 函数备注 |  返回类型 |
      >| ---- | :----: | --- |
      >| setSysVersion | 设置版本号 | void |
      >| getSysVersion | 获取字段信息 | uint64_t |
      > setSysVersion函数参数
      >| 参数名 | 参数备注 |  参数类型 |
      >| ---- | :----: | --- |
      >| version | 版本号 | uint64_t |
      > getSysVersion函数参数  
      > 无参数信息
    + 数据Data信息结构
      >模型名称  DataInfo
      >| 字段名 | 字段备注 | 类型|
      >| ---- | :----: | --- |
      >| version | 版本号 | uint64_t |
      >| field  | 字段信息 | uint64_t[64] |

2. 管理类型定义

    需要3个结构，1个索引表，1个链表(数组），1个系统管理

    + 索引表 数据结构 红黑树，B+树，跳跃表，平衡树等等  
      采用红黑树
      > 模型名称  RedBlackBSTNode
      >| 字段名 | 字段备注 | 类型|
      >| ---- | :----: | --- |
      >| version | 版本号 | uint64_t |
      >| field  | 字段信息 | uint64_t[64] |
      > 函数列表
      >| 函数名 | 函数备注 |  返回类型 |
      >| ---- | :----: | --- |
      >| putRoot | 版本号 | uint64_t |
      >| getRoot | 字段信息 | uint64_t[64] |
      > putRoot函数参数
      >| 参数名 | 参数备注 |  参数类型 |
      >| ---- | :----: | --- |
      >| RedBlackBSTNode | 版本号 | uint64_t |
      >| field  | 字段信息 | uint64_t[64] |

    + 链表,数组
      >采用数组

### 流程实现

主流程

    初始化流程
    > 创建
    > > XXX  
    > > 3sdf  
    >
    > XXX  
    > xxx

    析构流程
    > 析构
    >

    写数据流程
    > 析构
    >

    读数据流程
    > 析构
    >

红黑树流程

    XX
    > 创建
    > > XXX  
    > > 3sdf  
    >
    > XXX  
    > xxx

    XX
    > 析构
    >

    XX
    > 析构
    >

    XX
    > 析构
    >

链表流程

    XX
    > 创建
    > > XXX  
    > > 3sdf  
    >
    > XXX  
    > xxx

    XX
    > 析构
    >

    XX
    > 析构
    >

    XX
    > 析构
    >

### 生命周期管理
